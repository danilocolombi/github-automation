name: Set Secret

on:
  workflow_dispatch:
    inputs:
      secret-name:
        description: 'Name of the Secret'
        default: 'MY_SECRET'
        required: true
      secret-value:
        description: 'Value of the Secret'
        default: 'SUPER_SECRET'
        required: true
      repo-name:
        description: 'Name of the Repo'
        default: 'danilocolombi/teste'
        required: true

env:
  SECRET_VALUE: ${{ github.event.inputs.secret-value }}

jobs:
  set-secret:
    runs-on: ubuntu-latest
    steps:
      - name: 'Set Secret'
        run: gh secret set ${{ github.event.inputs.secret-name }} --env $SECRET_VALUE --repo ${{ github.event.inputs.repo-name }}
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}